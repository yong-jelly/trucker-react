# 프로젝트 여정: 트럭커 (Trucker) - 물류 시뮬레이션 게임

## 1단계: 기초 환경 및 FSD 구조 구축 (완료)
- [x] Vite + React + TypeScript 프로젝트 생성 (Bun 사용)
- [x] FSD (Feature-Sliced Design) 폴더 구조 생성
- [x] Leaflet 및 OpenStreetMap 연동
- [x] 기초 화면 구현 (Hello World + 지도 위젯)

## 2단계: 핵심 게임 루프 및 데이터 모델 설계 (진행 중)
- [x] DB 설계 및 구축 (Supabase)
    - [x] `trucker` 스키마 생성 및 `tbl_*` 접두사 사용
    - [x] @.cursor/rules/supabase-data-verification.mdc 규칙 준수
    - [x] `tbl_user_profile` 및 인증 연동 스키마 설계
- [x] 핵심 데이터 모델링 (User, Slot, Order, Run, EventLog)
- [ ] 시간 기반 운행 시스템 설계 (startAt 기반 ETA 및 진행률 계산)
- [ ] 정산 시스템 설계 (기본보상, 보너스, 패널티, 비용 구조)
- [ ] 단속 이벤트 및 빌드(장비/서류/보험) 시스템 설계
- [x] **과속 시스템 설계**:
    - [x] 과속 버튼 및 가속/최대 속력 물리 알고리즘 적용
    - [x] 과속 시 단속 확률 및 내구도 감소 가중치 설계 (도움말 및 관리자 페이지 반영)
- [x] **관리자 및 도움말 시스템**:
    - [x] 도움말 페이지 구현 (과속 단속 확률 안내)
    - [x] 관리자 설정 페이지 구현 (단속 알고리즘 상세 설정)

## 3단계: MVP 화면 구현 (UI/UX)
- [x] 이미지 생성 가이드라인 수립
    - [x] 나노바나나(구글 이미지 생성 AI) 활용을 위한 정교한 프롬프트 템플릿 작성
    - [x] 밝은 톤의 현실 물류 앱 스타일과 일관성 유지
- [x] **홈(오퍼) 화면**: 슬롯 상태 표시 및 주문 리스트
- [x] **온보딩 및 로그인**:
    - [x] 온보딩 페이지 (게임 컨셉 소개)
    - [x] 로그인 페이지 (Google OAuth 전용 연동)
- [x] **사용자 프로필 및 업적**:
    - [x] 프로필 페이지 (탭 구조: 프로필, 업적, 기록, 내역)
    - [x] 프로필 편집 (닉네임, 소개, 랜덤 아바타)
    - [x] 업적 시스템 UI 및 모니터링
- [x] **오더 상세 화면**: 요구 스펙 확인 및 출발 전 세팅 (장비/서류/보험) 및 지도 미리보기 추가
- [x] **운행 화면 (듀얼 뷰)**:
    - [x] Drive View (지도 중심)
    - [x] Dispatch View (정보 중심)
    - [x] 하단 시트 (정산/개요/이벤트/세팅 4탭)
- [x] **정산 화면**: 운행 종료 후 상세 영수증 표시
- [ ] **창고/상점**: 장비 관리 및 준비중 아이템 8개 배치

## 4단계: 게임 로직 및 DB 연동 (진행 중)
- [ ] **실시간 데이터 동기화**:
    - [ ] `tbl_runs` 테이블 연동 (운행 상태 실시간 저장 및 로드)
    - [ ] `tbl_user_profile` 자산 및 평판 실시간 반영
    - [ ] `tbl_event_logs` 단속/사고 이벤트 DB 기록
- [ ] **장비 상태 관리 (Garage)**:
    - [ ] 운행 중인 장비 "운행 중" 표시 및 클릭 시 해당 운행 화면으로 이동
    - [ ] 장비별 내구도 및 연료 상태 DB 연동
- [ ] **주문 생성 시스템 구현**:
    - [ ] 도움말에 정의된 알고리즘 기반 주문 생성 함수 구현
    - [ ] 평판 및 장비 티어별 오퍼 필터링 로직
- [ ] 단속 이벤트 발생 및 처리 모달 (선택지에 따른 결과 반영)
- [ ] 예약 시스템 (1개 슬롯 확보 및 출발 전 세팅)
- [ ] 지각 패널티 및 자동 종료(-50%) 로직

## 5단계: 밸런싱 및 고도화 (진행 중)
- [x] **알림 시스템 구현**:
    - [x] 텔레그램 Chat ID 및 Slack Webhook URL 연동 스키마 확장
    - [x] 프로필 편집 화면 내 알림 설정 UI 구현
    - [x] 운행 시작 및 정산 완료 시 알림 발송 트리거 연결
- [ ] 자전거 티어 경제 밸런스 조정
- [ ] 준비중 아이템 설명 및 게임 톤 마이크로카피 적용
- [ ] 소프트런치 준비 및 지표 수집 설정

---
*참고: 모든 아이템 및 슬롯 확장은 MVP 이후 구현 예정이며, 현재는 설명만 제공함.*
